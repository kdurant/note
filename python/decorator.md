# 闭包(closure)
如果在一个函数的内部定义了另一个函数，外部的我们叫他外函数，内部的我们叫他内函数。
**闭包**:在一个外函数中定义了一个内函数，内函数里运用了外函数的临时变量，并且外函数的返回值是内函数的引用。这样就构成了一个闭包。

# 装饰器(decorator)
python装饰器本质上就是一个函数，它可以让其他函数在不需要做任何代码变动的前提下增加额外的功能，装饰器的返回值也是一个函数对象（函数的指针）
装饰器函数的外部函数传入我要装饰的函数名字，返回经过修饰后函数的名字；内层函数（闭包）负责修饰被修饰函数。从上面这段描述中我们需要记住装饰器的几点属性，以便后面能更好的理解：
> 实质： 是一个函数
> 参数：是你要装饰的函数名（并非函数调用）
> 返回：是装饰完的函数名（也非函数调用）
> 作用：为已经存在的对象添加额外的功能
> 特点：不需要对对象做任何的代码上的变动

装饰器最大的作用就是对于我们已经写好的程序，我们可以抽离出一些雷同的代码组建多个特定功能的装饰器，这样我们就可以针对不同的需求去使用特定的装饰器，这时因为源码去除了大量泛化的内容而使得源码具有更加清晰的逻辑。

## 函数装饰器
```python
import time
def deco(func):
    start_time = time.time()
    func()
    end_time = time.time()
    print('{0} take time {1} s'.format(func.__name__, end_time - start_time))
    return func

@deco
def test1():
    time.sleep(0.8)

@deco
def test2():
    time.sleep(0.2)

test1()
test2()
```
`@deco`这个语法相当于执行`test1 = decor(test1)`


## 类方法的函数装饰器


## 类装饰器

## 装饰器链


## 装饰器库-functools
