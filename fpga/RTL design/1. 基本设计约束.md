本章介绍命名约定和同步设计问题。在设计过程中应该牢记，以及考虑和有关异步设计、时钟和分层设计的注意事项。本章介绍命名转换和同步设计

# 1.1 命名约定

# 1.1.1 基本命名约定
1. 文件名应该如下所示: `module_name.v`
2. 应该只使用字母数字字符和下划线“_”，第一个字符应该是字母表中的一个字母。
3. 不能使用保留关键字
4. 不得使用以“vdd”、“vss”、“vcc”、“gnd”或“vref”开头的名称。
5. Do not distinguish names by using upper or lower case English letters 

# 1.2 同步设计
## 1.2.1 时钟同步设计
1. 设计时应尽可能使用单时钟/单边沿。
2. 不要使用原语创建锁存器或者寄存器
3. 不要再组合逻辑中使用反馈

## 说明
采用HDL中的同步设计方法和逻辑综合工具。异步时钟的使用 需要给逻辑综合增加更精确的设计约束。在您的设计中，尽可能使用具有单一时钟的单一边沿。

![pic][1]

随着设计的增大，使用静态时序分析工具代替逻辑仿真对电路工作速度进行分析。在这种情况下，如果时钟系统是复杂的，分析就变得困难了。在现实中，很少有系统以单一时钟和单一边沿工作。如果使用多个时钟，请尽量减少时钟的数量。

触发器和锁存器可以使用原语创建，但这可能被当作组合逻辑环路来进行时序分析。如果无法避免组合逻辑环路，请使用`set_disable_timing`设置来避免再时序分析期间反馈环路的影响。

应该避免像上面图1-2中的例子那样的电路设计，但是如果您的设计需要内部生成时钟，请将`CREATE_Clock`指定为生成时钟的FF的输出。

虽然跨触发器的环路不是问题，但是禁止跨越锁存器的异步循环。 请参见**第2.4.1节**，清楚地将锁存器推断与组合电路区分开来。 此外，由于跨越异步复位的循环变为异步循环，因此禁止在图1-2中的下图中显示FF。

# 1.3 复位初始化

# 1.3.1 使用异步复位
1. 使用同步复位描述可能导致合成产生不能正确复位的电路。
2. 使用异步复位对寄存器进行初始复位是更安全的。
    - 在布局上的复位树合成很容易。
    - 在同步复位的门级模拟中不能固定值。
3. 除初始重置外，不要使用异步设置/重置引脚。
4. 使用同步复位电路时，用同步复位为寄存器建立新的层次结构。
5. 不要对特定的逻辑合成工具使用同步复位指令。
6. 在同一复位线上不能同时进行异步复位和同步复位。
7. 不要同时使用具有异步置位和异步复位的触发器。

> 复位最好使用FPGA厂家推荐的复位方式。例如，Altera：异步低电平复位；Xilinx：同步高电平复位

## 示例代码
![f1-3][2]

## 说明

通过图1-3所示的同步复位FF推断，可以产生几个不同的电路。例如，
* (a)是在选择输入信号后重置的电路
* (B)是重置输入信号然后选择该信号的电路。

在仿真时，触发器的初始状态时`X`，但由于电路(A)在触发器数据输入之前将复位信号直接连接到门上，因此定义了数据输入，因为即使FF的输出为“X”，也使用重置信号执行AND操作。然而，在电路(B)中，输入到选择器的触发器的输出信号是‘X’，而且由于无论输入信号值如何，输出门输出变成‘X’，FF数据输入总是‘X’。因此，FF的值不是由同步复位信号定义的。

只要电路(A)总是从同步复位描述中综合，这就不会造成任何问题，但是不能保证总是产生这样的电路。因此，在初始复位中使用异步重置是更安全的。

示例1-7显示了将同步重置FF描述更改为异步重置FF描述的示例。always语句块由上升边时钟和主动低复位信号激活。
![e1-7][3]

[1]:https://raw.githubusercontent.com/kdurant/note/master/fpga/RTL%20design/image/figure1-2.png
[2]:https://raw.githubusercontent.com/kdurant/note/master/fpga/RTL%20design/image/figure1-3.png
[3]:https://raw.githubusercontent.com/kdurant/note/master/fpga/RTL%20design/image/example1-7.png